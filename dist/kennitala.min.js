!function(){function r(r,t){var n=o(r);if(10!==n.length||t&&!t(n))return!1;var e=n.split("").reduce(function(r,t,n){return r+t*g[n]},0),a=11-e%11,i=parseInt(n.substring(8,9),10);return 11==a&&0===i||a===i}function t(r){var t=parseInt(r.substring(0,2),10),n=parseInt(r.substring(2,4),10),e=parseInt(r.substring(4,6),10),a=parseInt(r.substring(9,10),10),i="";if(isNaN(t)||isNaN(n)||isNaN(e)||isNaN(a))return!1;t>40&&t<=71&&(t-=40),0===a?i="20":9===a?i="19":8===a&&(i="18");var u=i;return u+=e<10?"0"+e:""+e,u+="-",u+=n<10?"0"+n:""+n,u+="-",u+=t<10?"0"+t:""+t,!isNaN(new Date(u).getTime())}function n(r){var t=parseInt(r.substring(0,2),10),n=parseInt(r.substring(6,8));return t>0&&t<=31&&n>=20}function e(r){var t=parseInt(r.substring(0,2),10),n=r.substring(6,8);return t>0&&t<=31&&("14"===n||"15"===n)}function a(r){var t=parseInt(r.substring(0,2),10);return t>40&&t<=71}function i(r,t,e){function a(r){var t=""+Math.floor(10*Math.random()),e=""+Math.floor(10*Math.random());n(r)&&(t=""+Math.floor(8*Math.random()+2));for(var i=r+t+e,u=0,s=0;s<8;s++)u+=i[s]*g[s];return u=11-u%11,u=11==u?0:u,10==u?a(r):t+e+u}function i(r,t){var n=parseInt(t,10);if(!(n>=100||isNaN(n))){for(var e=n.toString().split(""),a=e[0],u=e[1],s=r+a+u,o=0,f=0;f<8;f++)o+=s[f]*g[f];return o=11-o%11,o=11==o?0:o,10==o?i(r,n+1):a+u+o}}var u="",s=r.getDate();s<10&&(s="0"+s),s=""+s,s=t(s),u+=s;var o=r.getMonth();o+=1,o<10&&(o="0"+o),o=""+o,u+=o;var f=r.getFullYear();if(f=""+f,f=f[2]+f[3],u+=f,"number"==typeof e){var v=i(u,e);if(void 0===v)return;u+=v}else u+=a(u);return f=r.getFullYear(),f=""+f,u+=f[1]}function u(r){return r}function s(r){return""+(parseInt(r,10)+40)}function o(r){return"string"==typeof r&&r.match(/^\d{6}-?\d{4}$/)?r.replace(/\D+/g,""):void 0}function f(r){return{allowTestDataset:!!r&&!0===r.allowTestDataset}}var v={};v.isValid=function(i,u){var s=f(u),v=o(i);if(void 0===v)return!1;if(10===v.length&&("8"===v.substring(0,1)||"9"===v.substring(0,1)))return!0;var g=r(v,n),l=r(v,e),d=r(v,a);return t(v)&&(g||d||l&&s.allowTestDataset)},v.isPerson=function(a,i){var u=f(i),s=o(a);if(void 0===s)return!1;var v=t(s);return e(s)&&u.allowTestDataset?v&&r(a,e):v&&r(a,n)},v.isCompany=function(n){var e=o(n);return void 0!==e&&(t(e)&&r(n,a))},v.isTemporary=function(r){var t=o(r);return void 0!==t&&(10===t.length&&("8"===t.substring(0,1)||"9"===t.substring(0,1)))},v.sanitize=function(r){return o(r)},v.format=function(r,t){var n=r.replace(/(\D)+/g,"");return t=void 0!==t?t:"-",n.substring(0,6)+t+n.substring(6,10)},v.generatePerson=function(r,t){return i(r,u,t)},v.generateCompany=function(r){return i(r,s)},v.info=function(t){var e={},i=o(t);if(void 0===i)return e.valid=!1,e;e.kt=i;var u=r(i,n),s=r(i,a);if(u||s){e.valid=!0,e.type=!0===u?"person":"company";var t=o(i),f=t.substring(0,2);f>31&&(f-=40);var v=t.substring(2,4),g=(0==t.substring(9,10)?20:19)+t.substring(4,6),l=new Date(g,v-1,f);e.birthday=l,e.birthdayReadable=l.toDateString();var d=new Date,c=d.getFullYear(),p=new Date(l);p.setFullYear(c);var b=c-l.getFullYear();return p>d&&b--,b<0?b+=100:b=b<1?(d.getTime()-l.getTime())/1e3/60/60/24/365.2422:b,e.age=b,e}return e.valid=!1,e};var g=[3,2,7,6,5,4,3,2,0,0];"undefined"!=typeof module&&module.exports?module.exports=v:"function"==typeof define&&define.amd?define(v):window&&(window.kennitala=v)}();
//# sourceMappingURL=kennitala.min.js.map